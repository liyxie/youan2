(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/checkin/checkin"],{"1eea":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},o=[]},"4d1c":function(e,t,a){"use strict";var n=a("9808"),o=a.n(n);o.a},"5bfa":function(e,t,a){"use strict";a.r(t);var n=a("ed32"),o=a.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(c);t["default"]=o.a},"84a0":function(e,t,a){"use strict";a.r(t);var n=a("1eea"),o=a("5bfa");for(var c in o)["default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(c);a("4d1c");var i=a("828b"),s=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=s.exports},9808:function(e,t,a){},"9afb":function(e,t,a){"use strict";(function(e,t){var n=a("47a9");a("cb63");n(a("3240"));var o=n(a("84a0"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(o.default)}).call(this,a("3223")["default"],a("df3c")["createPage"])},ed32:function(e,t,a){"use strict";(function(e){var n=a("47a9");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a("2b60")),c=(a("63f7"),{data:function(){return{canCheckin:!0,photoPath:"",btnText:"拍照",showCamera:!0,showImage:!1}},onLoad:function(){var t=this;t.ajax(t.url.validCanCheckIn,"GET",null,(function(a){o.default.logging("查看是否可以考勤",a),console.log(a.data.data);var n=a.data.data.status;"可以考勤"!=n?(t.canCheckin=!1,setTimeout((function(){e.showToast({title:n,icon:"none"})}),1e3)):(t.canCheckin=!0,setTimeout((function(){e.showToast({title:n})}),1e3))}))},methods:{clickBtn:function(){var t=this;if("拍照"==t.btnText){var a=e.createCameraContext();a.takePhoto({quality:"high",success:function(e){console.log(e.tempImagePath),t.photoPath=e.tempImagePath,t.showCamera=!1,t.showImage=!0,t.btnText="签到"}})}else e.showLoading({title:"签到中请稍后"}),setTimeout((function(){e.hideLoading()}),3e4),e.uploadFile({url:t.url.checkin,filePath:t.photoPath,name:"photo",header:{Token:e.getStorageSync("Token")},success:function(t){var a=JSON.parse(t.data);if(200==t.statusCode)switch(a.code){case 500:e.showToast({title:a.message,icon:"none"});break;case 200:e.showToast({title:"签到成功",complete:function(){e.navigateTo({url:"../checkin_result/checkin_result"})}});break}else e.showToast({title:"系统错误！",icon:"none"})}})},testBtn:function(){var t=this;console.log(t.url.checkin),e.chooseMedia({count:1,mediaType:["image","video"],sourceType:["album","camera"],maxDuration:30,camera:"back",success:function(a){e.uploadFile({url:t.url.checkin,filePath:a.tempFiles[0].tempFilePath,name:"photo",header:{Token:e.getStorageSync("Token")},success:function(t){console.log(t);var a=JSON.parse(t.data);if(console.log(a),200==t.statusCode)switch(a.code){case 500:e.showToast({title:a.message,icon:"none"});break;case 200:e.showToast({title:"签到成功",complete:function(){e.navigateTo({url:"../checkin_result/checkin_result"})}});break}else e.showToast({title:"系统错误！",icon:"none"})}})}})}}});t.default=c}).call(this,a("df3c")["default"])}},[["9afb","common/runtime","common/vendor"]]]);